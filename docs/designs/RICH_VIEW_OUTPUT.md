# Rich View Output è¨­è¨ˆæ›¸

> **Status**: ğŸ“‹ è¨­è¨ˆä¸­
> **Updated**: 2025-01-12

## æ¦‚è¦

Blockå‡ºåŠ›ã«Viewå®šç¾©ã‚’å«ã‚ã‚‹ã“ã¨ã§ã€ãƒ‡ãƒ¼ã‚¿ã®ãƒªãƒƒãƒãªå¯è¦–åŒ–ã‚’å¯èƒ½ã«ã™ã‚‹æ©Ÿèƒ½ã€‚

**ç›®çš„:**
- è¤‡é›‘ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ã‚’è¦–è¦šçš„ã«ç†è§£ã—ã‚„ã™ãè¡¨ç¤º
- LLMãƒ¢ãƒ‡ãƒ«æ¯”è¼ƒã€ãƒ‡ãƒ¼ã‚¿å¤‰æ›çµæœã€APIãƒ¬ã‚¹ãƒãƒ³ã‚¹ãªã©ã®å¯è¦–åŒ–
- é–‹ç™ºè€…ãŒä»»æ„ã®ãƒ–ãƒ­ãƒƒã‚¯ã«ã‚«ã‚¹ã‚¿ãƒ è¡¨ç¤ºã‚’å®šç¾©å¯èƒ½

---

## å‡ºåŠ›ã‚¹ã‚­ãƒ¼ãƒ

### BlockOutput

```typescript
interface BlockOutput {
  data: any;                    // å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ï¼ˆå¾Œç¶šãƒ–ãƒ­ãƒƒã‚¯ç”¨ & JSONè¡¨ç¤ºç”¨ï¼‰
  views?: ViewDefinition[];     // è¡¨ç¤ºå®šç¾©ã®é…åˆ—ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
}
```

### ViewDefinition

```typescript
interface ViewDefinition {
  type: ViewType;               // è¡¨ç¤ºã‚¿ã‚¤ãƒ—ï¼ˆå¿…é ˆï¼‰
  label?: string;               // ãƒ–ãƒ­ãƒƒã‚¯ã®ã‚¿ã‚¤ãƒˆãƒ«ï¼ˆä»»æ„ï¼‰
  config?: Record<string, any>; // ã‚¿ã‚¤ãƒ—åˆ¥ã®è¨­å®š
}

type ViewType =
  | "table"          // ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º
  | "comparison"     // ã‚µã‚¤ãƒ‰ãƒã‚¤ã‚µã‚¤ãƒ‰æ¯”è¼ƒ
  | "chart"          // ã‚°ãƒ©ãƒ•ï¼ˆbar, line, pieï¼‰
  | "markdown"       // Markdownãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
  | "image"          // ç”»åƒè¡¨ç¤º
  | "diff"           // å·®åˆ†è¡¨ç¤º
  | "timeline"       // ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³
  | "key-value"      // Key-Valueå½¢å¼
  | "code"           // ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆä»˜ãã‚³ãƒ¼ãƒ‰
  | "progress"       // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º
  | "stat";          // çµ±è¨ˆã‚«ãƒ¼ãƒ‰
```

---

## View Types ä¸€è¦§

### 1. table

ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã€‚

```typescript
interface TableViewConfig {
  source: string;              // ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹ (ä¾‹: "$.results")
  columns: {
    key: string;               // ãƒ‡ãƒ¼ã‚¿ã®ã‚­ãƒ¼
    label?: string;            // åˆ—ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆçœç•¥æ™‚ã¯keyã‚’ä½¿ç”¨ï¼‰
    format?: "text" | "number" | "currency" | "percent" | "duration" | "date" | "badge";
    width?: string;            // åˆ—å¹… (ä¾‹: "200px", "30%")
  }[];
  sortable?: boolean;          // ã‚½ãƒ¼ãƒˆå¯èƒ½ã‹ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: falseï¼‰
  maxRows?: number;            // æœ€å¤§è¡Œæ•°ï¼ˆçœç•¥æ™‚ã¯å…¨ä»¶ï¼‰
}
```

**ä½¿ç”¨ä¾‹:**
```javascript
{
  type: "table",
  label: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§",
  config: {
    source: "$.users",
    columns: [
      { key: "name", label: "åå‰" },
      { key: "email", label: "ãƒ¡ãƒ¼ãƒ«" },
      { key: "status", label: "çŠ¶æ…‹", format: "badge" }
    ]
  }
}
```

**è¡¨ç¤ºã‚¤ãƒ¡ãƒ¼ã‚¸:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åå‰     â”‚ ãƒ¡ãƒ¼ãƒ«           â”‚ çŠ¶æ…‹          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç”°ä¸­å¤ªéƒ â”‚ tanaka@example   â”‚ [Active]      â”‚
â”‚ å±±ç”°èŠ±å­ â”‚ yamada@example   â”‚ [Pending]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. comparison

è¤‡æ•°ã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚µã‚¤ãƒ‰ãƒã‚¤ã‚µã‚¤ãƒ‰ã§æ¯”è¼ƒã€‚

```typescript
interface ComparisonViewConfig {
  source: string;              // é…åˆ—ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹ (ä¾‹: "$.results")
  labelKey: string;            // å„ã‚¢ã‚¤ãƒ†ãƒ ã®ãƒ©ãƒ™ãƒ«ã‚­ãƒ¼
  contentKey: string;          // æ¯”è¼ƒå¯¾è±¡ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚­ãƒ¼
  contentFormat?: "text" | "markdown" | "code";
  metrics?: {                  // è¿½åŠ è¡¨ç¤ºã™ã‚‹ãƒ¡ãƒˆãƒªã‚¯ã‚¹
    key: string;
    label?: string;
    format?: "text" | "number" | "currency" | "duration";
    highlight?: "min" | "max"; // ãƒã‚¤ãƒ©ã‚¤ãƒˆæ¡ä»¶
  }[];
}
```

**ä½¿ç”¨ä¾‹:**
```javascript
{
  type: "comparison",
  label: "ãƒ¢ãƒ‡ãƒ«æ¯”è¼ƒ",
  config: {
    source: "$.results",
    labelKey: "model",
    contentKey: "response",
    contentFormat: "markdown",
    metrics: [
      { key: "latency_ms", label: "Latency", format: "duration", highlight: "min" },
      { key: "cost_usd", label: "Cost", format: "currency", highlight: "min" }
    ]
  }
}
```

**è¡¨ç¤ºã‚¤ãƒ¡ãƒ¼ã‚¸:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ¢ãƒ‡ãƒ«æ¯”è¼ƒ                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GPT-4o                     â”‚ Claude-3.5-Sonnet              â”‚
â”‚ Latency: 1,250ms           â”‚ Latency: 980ms âš¡              â”‚
â”‚ Cost: $0.008               â”‚ Cost: $0.006 ğŸ’°               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Pythonã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’         â”‚ Pythonã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€     â”‚
â”‚ èª­ã¿è¾¼ã‚€ã«ã¯ã€open()é–¢æ•°ã‚’ â”‚ æ–¹æ³•ã¯ã„ãã¤ã‹ã‚ã‚Šã¾ã™ã€‚       â”‚
â”‚ ä½¿ç”¨ã—ã¾ã™...              â”‚ æœ€ã‚‚åŸºæœ¬çš„ãªæ–¹æ³•ã¯...          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. chart

ã‚°ãƒ©ãƒ•å½¢å¼ã§ãƒ‡ãƒ¼ã‚¿ã‚’å¯è¦–åŒ–ã€‚

```typescript
interface ChartViewConfig {
  chartType: "bar" | "line" | "pie" | "doughnut" | "area";
  source: string;              // ãƒ‡ãƒ¼ã‚¿é…åˆ—ãƒ‘ã‚¹
  xKey: string;                // Xè»¸ã®ã‚­ãƒ¼
  yKey: string | string[];     // Yè»¸ã®ã‚­ãƒ¼ï¼ˆè¤‡æ•°å¯ï¼‰
  colors?: string[];           // ã‚«ã‚¹ã‚¿ãƒ è‰²
  stacked?: boolean;           // ç©ã¿ä¸Šã’è¡¨ç¤ºï¼ˆbar, areaï¼‰
  showLegend?: boolean;        // å‡¡ä¾‹è¡¨ç¤º
  height?: number;             // ã‚°ãƒ©ãƒ•é«˜ã•ï¼ˆpxï¼‰
}
```

**ä½¿ç”¨ä¾‹:**
```javascript
{
  type: "chart",
  label: "æœˆåˆ¥å£²ä¸Š",
  config: {
    chartType: "bar",
    source: "$.monthly",
    xKey: "month",
    yKey: "revenue",
    colors: ["#3b82f6"]
  }
}
```

**è¡¨ç¤ºã‚¤ãƒ¡ãƒ¼ã‚¸:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœˆåˆ¥å£²ä¸Š                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚     â–ˆâ–ˆâ–ˆâ–ˆ                                    â”‚
â”‚     â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ                              â”‚
â”‚     â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ                        â”‚
â”‚     â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ  â–ˆâ–ˆâ–ˆâ–ˆ                  â”‚
â”‚     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚
â”‚     Jan   Feb   Mar   Apr                   â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 4. markdown

Markdownã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°è¡¨ç¤ºã€‚

```typescript
interface MarkdownViewConfig {
  content: string;             // Markdownã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¾ãŸã¯ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹
}
```

**ä½¿ç”¨ä¾‹:**
```javascript
{
  type: "markdown",
  config: {
    content: "$.summary"
  }
}
```

---

### 5. image

ç”»åƒã‚’è¡¨ç¤ºï¼ˆURL or Base64ï¼‰ã€‚

```typescript
interface ImageViewConfig {
  src: string;                 // ç”»åƒURL/Base64ã®ãƒ‘ã‚¹
  alt?: string;                // ä»£æ›¿ãƒ†ã‚­ã‚¹ãƒˆ
  maxWidth?: string;           // æœ€å¤§å¹…
  maxHeight?: string;          // æœ€å¤§é«˜ã•
}
```

**ä½¿ç”¨ä¾‹:**
```javascript
{
  type: "image",
  label: "ç”Ÿæˆç”»åƒ",
  config: {
    src: "$.image_url",
    maxWidth: "100%"
  }
}
```

---

### 6. diff

2ã¤ã®ãƒ†ã‚­ã‚¹ãƒˆ/ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å·®åˆ†ã‚’è¡¨ç¤ºã€‚

```typescript
interface DiffViewConfig {
  before: string;              // å¤‰æ›´å‰ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹
  after: string;               // å¤‰æ›´å¾Œãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹
  format?: "text" | "json";    // æ¯”è¼ƒå½¢å¼
  inline?: boolean;            // ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³è¡¨ç¤º
}
```

**ä½¿ç”¨ä¾‹:**
```javascript
{
  type: "diff",
  label: "å¤‰æ›´å†…å®¹",
  config: {
    before: "$.original",
    after: "$.modified",
    format: "json"
  }
}
```

**è¡¨ç¤ºã‚¤ãƒ¡ãƒ¼ã‚¸:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¤‰æ›´å†…å®¹                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   {                                         â”‚
â”‚     "name": "Product A",                    â”‚
â”‚ -   "price": 100,                           â”‚
â”‚ +   "price": 120,                           â”‚
â”‚     "stock": 50                             â”‚
â”‚   }                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 7. timeline

æ™‚ç³»åˆ—ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¡¨ç¤ºã€‚

```typescript
interface TimelineViewConfig {
  source: string;              // ã‚¤ãƒ™ãƒ³ãƒˆé…åˆ—ãƒ‘ã‚¹
  timestampKey: string;        // ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚­ãƒ¼
  titleKey: string;            // ã‚¿ã‚¤ãƒˆãƒ«ã‚­ãƒ¼
  descriptionKey?: string;     // èª¬æ˜ã‚­ãƒ¼
  statusKey?: string;          // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚­ãƒ¼ï¼ˆè‰²åˆ†ã‘ç”¨ï¼‰
}
```

**ä½¿ç”¨ä¾‹:**
```javascript
{
  type: "timeline",
  label: "å®Ÿè¡Œå±¥æ­´",
  config: {
    source: "$.events",
    timestampKey: "timestamp",
    titleKey: "action",
    descriptionKey: "details",
    statusKey: "status"
  }
}
```

**è¡¨ç¤ºã‚¤ãƒ¡ãƒ¼ã‚¸:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®Ÿè¡Œå±¥æ­´                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â— 10:00:00  Step 1 é–‹å§‹                     â”‚
â”‚ â”‚           å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã—ãŸ               â”‚
â”‚ â—â”€10:00:05  Step 1 å®Œäº† âœ“                   â”‚
â”‚ â”‚           çµæœ: æˆåŠŸ                       â”‚
â”‚ â— 10:00:06  Step 2 é–‹å§‹                     â”‚
â”‚ â”‚           APIå‘¼ã³å‡ºã—ä¸­...                 â”‚
â”‚ â—â”€10:00:10  Step 2 å®Œäº† âœ“                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 8. key-value

Key-Valueå½¢å¼ã§ã‚·ãƒ³ãƒ—ãƒ«ã«è¡¨ç¤ºã€‚

```typescript
interface KeyValueViewConfig {
  source?: string;             // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ã‚¹ï¼ˆçœç•¥æ™‚ã¯dataå…¨ä½“ï¼‰
  items?: {                    // è¡¨ç¤ºã™ã‚‹é …ç›®ã‚’æ˜ç¤ºæŒ‡å®š
    key: string;
    label?: string;
    format?: "text" | "number" | "currency" | "date" | "badge" | "link";
  }[];
  layout?: "vertical" | "horizontal" | "grid";
}
```

**ä½¿ç”¨ä¾‹:**
```javascript
{
  type: "key-value",
  label: "API Response",
  config: {
    items: [
      { key: "status", label: "Status", format: "badge" },
      { key: "latency", label: "Latency", format: "number" },
      { key: "url", label: "URL", format: "link" }
    ]
  }
}
```

**è¡¨ç¤ºã‚¤ãƒ¡ãƒ¼ã‚¸:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ API Response                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Status:   [200 OK]                          â”‚
â”‚ Latency:  145ms                             â”‚
â”‚ URL:      https://api.example.com/users     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 9. code

ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆä»˜ãã‚³ãƒ¼ãƒ‰è¡¨ç¤ºã€‚

```typescript
interface CodeViewConfig {
  content: string;             // ã‚³ãƒ¼ãƒ‰ã¾ãŸã¯ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹
  language?: string;           // è¨€èªï¼ˆjs, python, json, sql, etc.ï¼‰
  showLineNumbers?: boolean;   // è¡Œç•ªå·è¡¨ç¤º
  maxHeight?: string;          // æœ€å¤§é«˜ã•ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰
}
```

**ä½¿ç”¨ä¾‹:**
```javascript
{
  type: "code",
  label: "ç”Ÿæˆã•ã‚ŒãŸSQL",
  config: {
    content: "$.sql",
    language: "sql",
    showLineNumbers: true
  }
}
```

---

### 10. progress

ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚„ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤ºã€‚

```typescript
interface ProgressViewConfig {
  value: string;               // ç¾åœ¨å€¤ãƒ‘ã‚¹ (0-100 or 0-1)
  max?: number;                // æœ€å¤§å€¤ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 100ï¼‰
  label?: string;              // ãƒ©ãƒ™ãƒ«
  showPercent?: boolean;       // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆè¡¨ç¤º
  color?: string | "auto";     // è‰²ï¼ˆautoã¯å€¤ã«å¿œã˜ã¦å¤‰åŒ–ï¼‰
  size?: "sm" | "md" | "lg";
}
```

**ä½¿ç”¨ä¾‹:**
```javascript
{
  type: "progress",
  label: "å‡¦ç†é€²æ—",
  config: {
    value: "$.progress",
    showPercent: true,
    color: "auto"
  }
}
```

**è¡¨ç¤ºã‚¤ãƒ¡ãƒ¼ã‚¸:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‡¦ç†é€²æ—                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  67%         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 11. stat

çµ±è¨ˆæƒ…å ±ã‚’ã‚«ãƒ¼ãƒ‰å½¢å¼ã§è¡¨ç¤ºã€‚

```typescript
interface StatViewConfig {
  stats: {
    value: string;             // å€¤ã®ãƒ‘ã‚¹
    label?: string;            // ãƒ©ãƒ™ãƒ«
    format?: "number" | "currency" | "percent" | "duration";
    icon?: string;             // ã‚¢ã‚¤ã‚³ãƒ³å
    trend?: {                  // ãƒˆãƒ¬ãƒ³ãƒ‰è¡¨ç¤º
      value: string;           // å¤‰åŒ–ç‡ãƒ‘ã‚¹
      direction?: "up-good" | "down-good";
    };
  }[];
  layout?: "row" | "grid";     // ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
  columns?: number;            // ã‚°ãƒªãƒƒãƒ‰åˆ—æ•°
}
```

**ä½¿ç”¨ä¾‹:**
```javascript
{
  type: "stat",
  config: {
    stats: [
      { value: "$.total_cost", label: "Total Cost", format: "currency", icon: "dollar" },
      { value: "$.avg_latency", label: "Avg Latency", format: "duration", icon: "clock" },
      { value: "$.success_rate", label: "Success Rate", format: "percent", icon: "check" }
    ],
    layout: "row"
  }
}
```

**è¡¨ç¤ºã‚¤ãƒ¡ãƒ¼ã‚¸:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ ğŸ’°          â”‚  â”‚ â±ï¸          â”‚  â”‚ âœ“           â”‚          â”‚
â”‚ â”‚ $0.024      â”‚  â”‚ 1,120ms     â”‚  â”‚ 98.5%       â”‚          â”‚
â”‚ â”‚ Total Cost  â”‚  â”‚ Avg Latency â”‚  â”‚ Success Rateâ”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## UIè¨­è¨ˆ

### ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step Output                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ JSON â”‚ View â”‚  â† views ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹å ´åˆã®ã¿è¡¨ç¤º       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚   â–² ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Viewè¡¨ç¤ºï¼ˆç¸¦ç©ã¿ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ JSON â”‚ View â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â–²                                                 â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“Š ãƒ©ãƒ™ãƒ«1ï¼ˆçœç•¥æ™‚ã¯éè¡¨ç¤ºï¼‰                          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ [View 1 Content]                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“ˆ ãƒ©ãƒ™ãƒ«2                                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ [View 2 Content]                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ [View 3 Content - ãƒ©ãƒ™ãƒ«ãªã—]                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å®Ÿè£…ä¾‹ï¼šLLM Compare Block

```javascript
// seed.sql ã«è¿½åŠ ã™ã‚‹ãƒ–ãƒ­ãƒƒã‚¯å®šç¾©
const code = `
  const results = await Promise.all(
    config.models.map(async (m) => {
      const start = Date.now();
      const res = await ctx.llm.chat({
        provider: m.provider,
        model: m.model,
        messages: [{ role: "user", content: config.prompt || input.prompt }]
      });
      return {
        provider: m.provider,
        model: m.model,
        response: res.content,
        latency_ms: Date.now() - start,
        input_tokens: res.usage?.input_tokens || 0,
        output_tokens: res.usage?.output_tokens || 0,
        cost_usd: res.cost || 0
      };
    })
  );

  const fastest = results.reduce((a, b) => a.latency_ms < b.latency_ms ? a : b);
  const cheapest = results.reduce((a, b) => a.cost_usd < b.cost_usd ? a : b);

  return {
    data: {
      results,
      summary: {
        fastest: fastest.model,
        cheapest: cheapest.model,
        total_cost: results.reduce((sum, r) => sum + r.cost_usd, 0)
      }
    },
    views: [
      {
        type: "stat",
        config: {
          stats: [
            { value: "$.summary.fastest", label: "Fastest", icon: "zap" },
            { value: "$.summary.cheapest", label: "Cheapest", icon: "dollar" },
            { value: "$.summary.total_cost", label: "Total Cost", format: "currency" }
          ],
          layout: "row"
        }
      },
      {
        type: "comparison",
        label: "Response Comparison",
        config: {
          source: "$.results",
          labelKey: "model",
          contentKey: "response",
          contentFormat: "markdown",
          metrics: [
            { key: "latency_ms", label: "Latency", format: "duration", highlight: "min" },
            { key: "cost_usd", label: "Cost", format: "currency", highlight: "min" }
          ]
        }
      },
      {
        type: "chart",
        label: "Cost Comparison",
        config: {
          chartType: "bar",
          source: "$.results",
          xKey: "model",
          yKey: "cost_usd"
        }
      }
    ]
  };
`;
```

---

## å®Ÿè£…å·¥æ•°

| ã‚¿ã‚¹ã‚¯ | å·¥æ•° |
|--------|------|
| TypeScriptå‹å®šç¾© | 0.5æ—¥ |
| BlockOutputViewerï¼ˆã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆï¼‰ | 0.5æ—¥ |
| ViewBlockï¼ˆãƒ©ãƒƒãƒ‘ãƒ¼ï¼‰ | 0.5æ—¥ |
| TableView | 0.5æ—¥ |
| ComparisonView | 1æ—¥ |
| ChartViewï¼ˆChart.jsçµ±åˆï¼‰ | 1æ—¥ |
| MarkdownView | 0.5æ—¥ |
| KeyValueView | 0.5æ—¥ |
| CodeViewï¼ˆShikiçµ±åˆï¼‰ | 0.5æ—¥ |
| StatView | 0.5æ—¥ |
| DiffView | 1æ—¥ |
| ProgressView | 0.5æ—¥ |
| TimelineView | 0.5æ—¥ |
| ImageView | 0.5æ—¥ |
| LLM Compare Block | 0.5æ—¥ |
| ãƒ†ã‚¹ãƒˆ | 1æ—¥ |
| **åˆè¨ˆ** | **10æ—¥** |

---

## Related Documents

- [UNIFIED_BLOCK_MODEL.md](UNIFIED_BLOCK_MODEL.md) - Block execution architecture
- [BACKEND.md](../BACKEND.md) - Backend architecture
- [FRONTEND.md](../FRONTEND.md) - Frontend architecture
